<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="You Don’t Need jQuery前端发展很快，现代浏览器原生 API 已经足够好用。我们并不需要为了操作 DOM、Event 等再学习一下 jQuery 的 API。同时由于 React、Angular、Vue 等框架的流行，直接操作 DOM 不再是好的模式，jQuery 使用场景大大减少。本项目总结了大部分 jQuery API 替代的方法，暂时只支持 IE10 以上浏览器。">
<meta property="og:type" content="article">
<meta property="og:title" content="原生替换jquery">
<meta property="og:url" content="http://yoursite.com/2018/03/10/原生替换jquery/index.html">
<meta property="og:site_name" content="Gaomy&#39;s blog">
<meta property="og:description" content="You Don’t Need jQuery前端发展很快，现代浏览器原生 API 已经足够好用。我们并不需要为了操作 DOM、Event 等再学习一下 jQuery 的 API。同时由于 React、Angular、Vue 等框架的流行，直接操作 DOM 不再是好的模式，jQuery 使用场景大大减少。本项目总结了大部分 jQuery API 替代的方法，暂时只支持 IE10 以上浏览器。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-10T07:20:20.525Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="原生替换jquery">
<meta name="twitter:description" content="You Don’t Need jQuery前端发展很快，现代浏览器原生 API 已经足够好用。我们并不需要为了操作 DOM、Event 等再学习一下 jQuery 的 API。同时由于 React、Angular、Vue 等框架的流行，直接操作 DOM 不再是好的模式，jQuery 使用场景大大减少。本项目总结了大部分 jQuery API 替代的方法，暂时只支持 IE10 以上浏览器。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/03/10/原生替换jquery/"/>





  <title>原生替换jquery | Gaomy's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Gaomy's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">前端</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/10/原生替换jquery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gaomy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/assets/img/pic.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gaomy's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">原生替换jquery</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-10T15:16:19+08:00">
                2018-03-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="You-Don’t-Need-jQuery"><a href="#You-Don’t-Need-jQuery" class="headerlink" title="You Don’t Need jQuery"></a>You Don’t Need jQuery</h2><p>前端发展很快，现代浏览器原生 API 已经足够好用。我们并不需要为了操作 DOM、Event 等再学习一下 jQuery 的 API。同时由于 React、Angular、Vue 等框架的流行，直接操作 DOM 不再是好的模式，jQuery 使用场景大大减少。本项目总结了大部分 jQuery API 替代的方法，暂时只支持 IE10 以上浏览器。</p>
<a id="more"></a>
<h2 id="Query-Selector"><a href="#Query-Selector" class="headerlink" title="Query Selector"></a>Query Selector</h2><p>常用的 class、id、属性 选择器都可以使用 <code>document.querySelector</code> 或 <code>document.querySelectorAll</code> 替代。区别是</p>
<ul>
<li><code>document.querySelector</code> 返回第一个匹配的 Element</li>
<li><code>document.querySelectorAll</code> 返回所有匹配的 Element 组成的 NodeList。它可以通过 <code>[].slice.call()</code> 把它转成 Array</li>
<li>如果匹配不到任何 Element，jQuery 返回空数组 <code>[]</code>，但 <code>document.querySelector</code> 返回 <code>null</code>，注意空指针异常。当找不到时，也可以使用 <code>||</code> 设置默认的值，如 <code>document.querySelectorAll(selector) || []</code></li>
</ul>
<blockquote>
<p>注意：<code>document.querySelector</code> 和 <code>document.querySelectorAll</code> 性能很<strong>差</strong>。如果想提高性能，尽量使document.getElementById、document.getElementsByClassName、document.getElementsByTagName。</p>
</blockquote>
<ul>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.0" target="_blank" rel="noopener">1.0</a> 选择器查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;selector&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">document.querySelectorAll(&apos;selector&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.1" target="_blank" rel="noopener">1.1</a> class 查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;.class&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">document.querySelectorAll(&apos;.class&apos;);</span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line">document.getElementsByClassName(&apos;class&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.2" target="_blank" rel="noopener">1.2</a> id 查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;#id&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">document.querySelector(&apos;#id&apos;);</span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line">document.getElementById(&apos;id&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.3" target="_blank" rel="noopener">1.3</a> 属性查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;a[target=_blank]&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">document.querySelectorAll(&apos;a[target=_blank]&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.4" target="_blank" rel="noopener">1.4</a> 后代查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.find(&apos;li&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.querySelectorAll(&apos;li&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.5" target="_blank" rel="noopener">1.5</a> 兄弟及上下元素</p>
<ul>
<li><p>兄弟元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.siblings();</span><br><span class="line"></span><br><span class="line">// Native - latest, Edge13+</span><br><span class="line">[...el.parentNode.children].filter((child) =&gt;</span><br><span class="line">  child !== el</span><br><span class="line">);</span><br><span class="line">// Native (alternative) - latest, Edge13+</span><br><span class="line">Array.from(el.parentNode.children).filter((child) =&gt;</span><br><span class="line">  child !== el</span><br><span class="line">);</span><br><span class="line">// Native - IE10+</span><br><span class="line">Array.prototype.filter.call(el.parentNode.children, (child) =&gt;</span><br><span class="line">  child !== el</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>上一个元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.prev();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.previousElementSibling;</span><br></pre></td></tr></table></figure>
</li>
<li><p>下一个元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// next</span><br><span class="line">$el.next();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.nextElementSibling;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.6" target="_blank" rel="noopener">1.6</a> Closest</p>
<p>Closest 获得匹配选择器的第一个祖先元素，从当前元素开始沿 DOM 树向上。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.closest(queryString);</span><br><span class="line"></span><br><span class="line">// Native - Only latest, NO IE</span><br><span class="line">el.closest(selector);</span><br><span class="line"></span><br><span class="line">// Native - IE10+</span><br><span class="line">function closest(el, selector) &#123;</span><br><span class="line">  const matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;</span><br><span class="line"></span><br><span class="line">  while (el) &#123;</span><br><span class="line">    if (matchesSelector.call(el, selector)) &#123;</span><br><span class="line">      return el;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      el = el.parentElement;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.7" target="_blank" rel="noopener">1.7</a> Parents Until</p>
<p>获取当前每一个匹配元素集的祖先，不包括匹配元素的本身。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.parentsUntil(selector, filter);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">function parentsUntil(el, selector, filter) &#123;</span><br><span class="line">  const result = [];</span><br><span class="line">  const matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;</span><br><span class="line"></span><br><span class="line">  // match start from parent</span><br><span class="line">  el = el.parentElement;</span><br><span class="line">  while (el &amp;&amp; !matchesSelector.call(el, selector)) &#123;</span><br><span class="line">    if (!filter) &#123;</span><br><span class="line">      result.push(el);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      if (matchesSelector.call(el, filter)) &#123;</span><br><span class="line">        result.push(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    el = el.parentElement;</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.8" target="_blank" rel="noopener">1.8</a> Form</p>
<ul>
<li><p>Input/Textarea</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;#my-input&apos;).val();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">document.querySelector(&apos;#my-input&apos;).value;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取 e.currentTarget 在 <code>.radio</code> 中的数组索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;.radio&apos;).index(e.currentTarget);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">Array.prototype.indexOf.call(document.querySelectorAll(&apos;.radio&apos;), e.currentTarget);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.9" target="_blank" rel="noopener">1.9</a> Iframe Contents</p>
<p>jQuery 对象的 iframe <code>contents()</code> 返回的是 iframe 内的 <code>document</code></p>
<ul>
<li><p>Iframe contents</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$iframe.contents();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">iframe.contentDocument;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Iframe Query</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$iframe.contents().find(&apos;.css&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">iframe.contentDocument.querySelectorAll(&apos;.css&apos;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.10" target="_blank" rel="noopener">1.10</a> 获取 body</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(&apos;body&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">document.body;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#1.11" target="_blank" rel="noopener">1.11</a> 获取或设置属性</p>
<ul>
<li><p>获取属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.attr(&apos;foo&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.getAttribute(&apos;foo&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery, note that this works in memory without change the DOM</span><br><span class="line">$el.attr(&apos;foo&apos;, &apos;bar&apos;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.setAttribute(&apos;foo&apos;, &apos;bar&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取 <code>data-</code> 属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.data(&apos;foo&apos;);</span><br><span class="line"></span><br><span class="line">// Native (use `getAttribute`)</span><br><span class="line">el.getAttribute(&apos;data-foo&apos;);</span><br><span class="line"></span><br><span class="line">// Native (use `dataset` if only need to support IE 11+)</span><br><span class="line">el.dataset[&apos;foo&apos;];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p><strong>⬆ 回到顶部</strong></p>
<h2 id="CSS-amp-Style"><a href="#CSS-amp-Style" class="headerlink" title="CSS &amp; Style"></a>CSS &amp; Style</h2><ul>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#2.1" target="_blank" rel="noopener">2.1</a> CSS</p>
<ul>
<li><p>Get style</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.css(&quot;color&quot;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">// 注意：此处为了解决当 style 值为 auto 时，返回 auto 的问题</span><br><span class="line">const win = el.ownerDocument.defaultView;</span><br><span class="line"></span><br><span class="line">// null 的意思是不返回伪类元素</span><br><span class="line">win.getComputedStyle(el, null).color;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Set style</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.css(&#123; color: &quot;#ff0011&quot; &#125;);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.style.color = &apos;#ff0011&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Get/Set Styles</p>
<p>注意，如果想一次设置多个 style，可以参考 oui-dom-utils 中 <a href="https://github.com/oneuijs/oui-dom-utils/blob/master/src/index.js#L194" target="_blank" rel="noopener">setStyles</a> 方法</p>
</li>
<li><p>Add class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.addClass(className);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.classList.add(className);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Remove class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.removeClass(className);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.classList.remove(className);</span><br></pre></td></tr></table></figure>
</li>
<li><p>has class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.hasClass(className);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.classList.contains(className);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Toggle class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.toggleClass(className);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.classList.toggle(className);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#2.2" target="_blank" rel="noopener">2.2</a> Width &amp; Height</p>
<p>Width 与 Height 获取方法相同，下面以 Height 为例：</p>
<ul>
<li><p>Window height</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// window height</span><br><span class="line">$(window).height();</span><br><span class="line"></span><br><span class="line">// 含 scrollbar</span><br><span class="line">window.document.documentElement.clientHeight;</span><br><span class="line"></span><br><span class="line">// 不含 scrollbar，与 jQuery 行为一致</span><br><span class="line">window.innerHeight;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Document height</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(document).height();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">const body = document.body;</span><br><span class="line">const html = document.documentElement;</span><br><span class="line">const height = Math.max(</span><br><span class="line">  body.offsetHeight,</span><br><span class="line">  body.scrollHeight,</span><br><span class="line">  html.clientHeight,</span><br><span class="line">  html.offsetHeight,</span><br><span class="line">  html.scrollHeight</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Element height</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.height();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">function getHeight(el) &#123;</span><br><span class="line">  const styles = this.getComputedStyle(el);</span><br><span class="line">  const height = el.offsetHeight;</span><br><span class="line">  const borderTopWidth = parseFloat(styles.borderTopWidth);</span><br><span class="line">  const borderBottomWidth = parseFloat(styles.borderBottomWidth);</span><br><span class="line">  const paddingTop = parseFloat(styles.paddingTop);</span><br><span class="line">  const paddingBottom = parseFloat(styles.paddingBottom);</span><br><span class="line">  return height - borderBottomWidth - borderTopWidth - paddingTop - paddingBottom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 精确到整数（border-box 时为 height - border 值，content-box 时为 height + padding 值）</span><br><span class="line">el.clientHeight;</span><br><span class="line"></span><br><span class="line">// 精确到小数（border-box 时为 height 值，content-box 时为 height + padding + border 值）</span><br><span class="line">el.getBoundingClientRect().height;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#2.3" target="_blank" rel="noopener">2.3</a> Position &amp; Offset</p>
<ul>
<li><p>Position</p>
<p>获得匹配元素相对父元素的偏移</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.position();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">&#123; left: el.offsetLeft, top: el.offsetTop &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Offset</p>
<p>获得匹配元素相对文档的偏移</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.offset();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">function getOffset (el) &#123;</span><br><span class="line">  const box = el.getBoundingClientRect();</span><br><span class="line"></span><br><span class="line">  return &#123;</span><br><span class="line">    top: box.top + window.pageYOffset - document.documentElement.clientTop,</span><br><span class="line">    left: box.left + window.pageXOffset - document.documentElement.clientLeft</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#2.4" target="_blank" rel="noopener">2.4</a> Scroll Top</p>
<p>获取元素滚动条垂直位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$(window).scrollTop();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">(document.documentElement &amp;&amp; document.documentElement.scrollTop) || document.body.scrollTop;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>⬆ 回到顶部</strong></p>
<h2 id="DOM-Manipulation"><a href="#DOM-Manipulation" class="headerlink" title="DOM Manipulation"></a>DOM Manipulation</h2><ul>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.1" target="_blank" rel="noopener">3.1</a> Remove</p>
<p>从 DOM 中移除元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.remove();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.parentNode.removeChild(el);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.2" target="_blank" rel="noopener">3.2</a> Text</p>
<ul>
<li><p>Get text</p>
<p>返回指定元素及其后代的文本内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.text();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.textContent;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Set text</p>
<p>设置元素的文本内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.text(string);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.textContent = string;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.3" target="_blank" rel="noopener">3.3</a> HTML</p>
<ul>
<li><p>Get HTML</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.html();</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.innerHTML;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Set HTML</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.html(htmlString);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.innerHTML = htmlString;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.4" target="_blank" rel="noopener">3.4</a> Append</p>
<p>Append 插入到子节点的末尾</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.append(&quot;&lt;div id=&apos;container&apos;&gt;hello&lt;/div&gt;&quot;);</span><br><span class="line"></span><br><span class="line">// Native (HTML string)</span><br><span class="line">el.insertAdjacentHTML(&apos;beforeend&apos;, &apos;&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;&apos;);</span><br><span class="line"></span><br><span class="line">// Native (Element)</span><br><span class="line">el.appendChild(newEl);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.5" target="_blank" rel="noopener">3.5</a> Prepend</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.prepend(&quot;&lt;div id=&apos;container&apos;&gt;hello&lt;/div&gt;&quot;);</span><br><span class="line"></span><br><span class="line">// Native (HTML string)</span><br><span class="line">el.insertAdjacentHTML(&apos;afterbegin&apos;, &apos;&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;&apos;);</span><br><span class="line"></span><br><span class="line">// Native (Element)</span><br><span class="line">el.insertBefore(newEl, el.firstChild);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.6" target="_blank" rel="noopener">3.6</a> insertBefore</p>
<p>在选中元素前插入新节点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$newEl.insertBefore(queryString);</span><br><span class="line"></span><br><span class="line">// Native (HTML string)</span><br><span class="line">el.insertAdjacentHTML(&apos;beforebegin &apos;, &apos;&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;&apos;);</span><br><span class="line"></span><br><span class="line">// Native (Element)</span><br><span class="line">const el = document.querySelector(selector);</span><br><span class="line">if (el.parentNode) &#123;</span><br><span class="line">  el.parentNode.insertBefore(newEl, el);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.7" target="_blank" rel="noopener">3.7</a> insertAfter</p>
<p>在选中元素后插入新节点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$newEl.insertAfter(queryString);</span><br><span class="line"></span><br><span class="line">// Native (HTML string)</span><br><span class="line">el.insertAdjacentHTML(&apos;afterend&apos;, &apos;&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;&apos;);</span><br><span class="line"></span><br><span class="line">// Native (Element)</span><br><span class="line">const el = document.querySelector(selector);</span><br><span class="line">if (el.parentNode) &#123;</span><br><span class="line">  el.parentNode.insertBefore(newEl, el.nextSibling);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.8" target="_blank" rel="noopener">3.8</a> is</p>
<p>如果匹配给定的选择器，返回true</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// jQuery</span><br><span class="line">$el.is(selector);</span><br><span class="line"></span><br><span class="line">// Native</span><br><span class="line">el.matches(selector);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.9" target="_blank" rel="noopener">3.9</a> clone</p>
<p>深拷贝被选元素。（生成被选元素的副本，包含子节点、文本和属性。）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//jQuery</span><br><span class="line">$el.clone();</span><br><span class="line"></span><br><span class="line">//Native</span><br><span class="line">el.cloneNode();</span><br></pre></td></tr></table></figure>
<p>//深拷贝添加参数‘true’  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [3.10](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.10) empty</span><br><span class="line"></span><br><span class="line">  移除所有子节点</span><br></pre></td></tr></table></figure></p>
</li>
</ul>
<p>//jQuery<br>$el.empty();</p>
<p>//Native<br>el.innerHTML = ‘’;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [3.11](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.11) wrap</span><br><span class="line"></span><br><span class="line">把每个被选元素放置在指定的HTML结构中。</span><br></pre></td></tr></table></figure>
<p>//jQuery<br>$(“.inner”).wrap(‘<div class="wrapper"></div>‘);</p>
<p>//Native<br>Array.prototype.forEach.call(document.querySelector(‘.inner’), (el) =&gt; {<br>   const wrapper = document.createElement(‘div’);<br>   wrapper.className = ‘wrapper’;<br>   el.parentNode.insertBefore(wrapper, el);<br>   el.parentNode.removeChild(el);<br>   wrapper.appendChild(el);<br>});</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [3.12](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.12) unwrap</span><br><span class="line"></span><br><span class="line">  移除被选元素的父元素的DOM结构</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $(‘.inner’).unwrap();</p>
<p>  // Native<br>  Array.prototype.forEach.call(document.querySelectorAll(‘.inner’), (el) =&gt; {<br>        let elParentNode = el.parentNode</p>
<pre><code>if(elParentNode !== document.body) {
    elParentNode.parentNode.insertBefore(el, elParentNode)
    elParentNode.parentNode.removeChild(elParentNode)
}
</code></pre><p>  });</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [3.13](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.13) replaceWith</span><br><span class="line"></span><br><span class="line">  用指定的元素替换被选的元素</span><br></pre></td></tr></table></figure>
<p>  //jQuery<br>  $(‘.inner’).replaceWith(‘<div class="outer"></div>‘);</p>
<p>  //Native<br>  Array.prototype.forEach.call(document.querySelectorAll(‘.inner’),(el) =&gt; {<br>    const outer = document.createElement(“div”);<br>    outer.className = “outer”;<br>    el.parentNode.insertBefore(outer, el);<br>    el.parentNode.removeChild(el);<br>  });</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [3.14](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.14) simple parse</span><br><span class="line"></span><br><span class="line"> 解析 HTML/SVG/XML 字符串</span><br></pre></td></tr></table></figure>
<p>// jQuery<br>$(`<ol><br>  <li>a</li><br>  <li>b</li><br></ol></p>
<p><ol><br>  <li>c</li><br>  <li>d</li><br></ol>`);</p>
<p>// Native<br>range = document.createRange();<br>parse = range.createContextualFragment.bind(range);</p>
<p>parse(`<ol><br>  <li>a</li><br>  <li>b</li><br></ol></p>
<p><ol><br>  <li>c</li><br>  <li>d</li><br></ol>`);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**⬆ 回到顶部**</span><br><span class="line"></span><br><span class="line">## Ajax</span><br><span class="line"></span><br><span class="line">[Fetch API](https://fetch.spec.whatwg.org/) 是用于替换 XMLHttpRequest 处理 ajax 的新标准，Chrome 和 Firefox 均支持，旧浏览器可以使用 polyfills 提供支持。</span><br><span class="line"></span><br><span class="line">IE9+ 请使用 [github/fetch](http://github.com/github/fetch)，IE8+ 请使用 [fetch-ie8](https://github.com/camsong/fetch-ie8/)，JSONP 请使用 [fetch-jsonp](https://github.com/camsong/fetch-jsonp)。</span><br><span class="line"></span><br><span class="line">- [4.1](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#4.1) 从服务器读取数据并替换匹配元素的内容。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $(selector).load(url, completeCallback)</p>
<p>  // Native<br>  fetch(url).then(data =&gt; data.text()).then(data =&gt; {<br>    document.querySelector(selector).innerHTML = data<br>  }).then(completeCallback)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**⬆ 回到顶部**</span><br><span class="line"></span><br><span class="line">## Events</span><br><span class="line"></span><br><span class="line">完整地替代命名空间和事件代理，链接到 &lt;https://github.com/oneuijs/oui-dom-events&gt;</span><br><span class="line"></span><br><span class="line">- [5.0](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#5.0) Document ready by `DOMContentLoaded`</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $(document).ready(eventHandler);</p>
<p>  // Native<br>  // 检测 DOMContentLoaded 是否已完成<br>  if (document.readyState !== ‘loading’) {<br>    eventHandler();<br>  } else {<br>    document.addEventListener(‘DOMContentLoaded’, eventHandler);<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [5.1](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#5.1) 使用 on 绑定事件</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.on(eventName, eventHandler);</p>
<p>  // Native<br>  el.addEventListener(eventName, eventHandler);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [5.2](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#5.2) 使用 off 解绑事件</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.off(eventName, eventHandler);</p>
<p>  // Native<br>  el.removeEventListener(eventName, eventHandler);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [5.3](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#5.3) Trigger</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $(el).trigger(‘custom-event’, {key1: ‘data’});</p>
<p>  // Native<br>  if (window.CustomEvent) {<br>    const event = new CustomEvent(‘custom-event’, {detail: {key1: ‘data’}});<br>  } else {<br>    const event = document.createEvent(‘CustomEvent’);<br>    event.initCustomEvent(‘custom-event’, true, true, {key1: ‘data’});<br>  }</p>
<p>  el.dispatchEvent(event);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**⬆ 回到顶部**</span><br><span class="line"></span><br><span class="line">## Utilities</span><br><span class="line"></span><br><span class="line">大部分实用工具都能在 native API 中找到. 其他高级功能可以选用专注于该领域的稳定性和性能都更好的库来代替，推荐 [lodash](https://lodash.com/)。</span><br><span class="line"></span><br><span class="line">- [6.1](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#6.1) 基本工具</span><br><span class="line"></span><br><span class="line">  - isArray</span><br><span class="line"></span><br><span class="line">  检测参数是不是数组。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.isArray(range);</p>
<p>  // Native<br>  Array.isArray(range);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- isWindow</span><br><span class="line"></span><br><span class="line">检测参数是不是 window。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.isWindow(obj);</p>
<p>  // Native<br>  function isWindow(obj) {<br>    return obj !== null &amp;&amp; obj !== undefined &amp;&amp; obj === obj.window;<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- inArray</span><br><span class="line"></span><br><span class="line">在数组中搜索指定值并返回索引 (找不到则返回 -1)。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.inArray(item, array);</p>
<p>  // Native<br>  array.indexOf(item) &gt; -1;</p>
<p>  // ES6-way<br>  array.includes(item);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- isNumeric</span><br><span class="line"></span><br><span class="line">检测传入的参数是不是数字。 Use `typeof` to decide the type or the `type` example for better accuracy.</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.isNumeric(item);</p>
<p>  // Native<br>  function isNumeric(n) {<br>    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- isFunction</span><br><span class="line"></span><br><span class="line">检测传入的参数是不是 JavaScript 函数对象。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.isFunction(item);</p>
<p>  // Native<br>  function isFunction(item) {<br>    if (typeof item === ‘function’) {<br>      return true;<br>    }<br>    var type = Object.prototype.toString(item);<br>    return type === ‘[object Function]’ || type === ‘[object GeneratorFunction]’;<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- isEmptyObject</span><br><span class="line"></span><br><span class="line">检测对象是否为空 (包括不可枚举属性).</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.isEmptyObject(obj);</p>
<p>  // Native<br>  function isEmptyObject(obj) {<br>    return Object.keys(obj).length === 0;<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- isPlainObject</span><br><span class="line"></span><br><span class="line">检测是不是扁平对象 (使用 “&#123;&#125;” 或 “new Object” 创建).</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.isPlainObject(obj);</p>
<p>  // Native<br>  function isPlainObject(obj) {<br>    if (typeof (obj) !== ‘object’ || obj.nodeType || obj !== null &amp;&amp; obj !== undefined &amp;&amp; obj === obj.window) {<br>      return false;<br>    }</p>
<pre><code>if (obj.constructor &amp;&amp;
    !Object.prototype.hasOwnProperty.call(obj.constructor.prototype, &apos;isPrototypeOf&apos;)) {
  return false;
}

return true;
</code></pre><p>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- extend</span><br><span class="line"></span><br><span class="line">合并多个对象的内容到第一个对象。 object.assign 是 ES6 API，也可以使用 [polyfill](https://github.com/ljharb/object.assign)。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.extend({}, defaultOpts, opts);</p>
<p>  // Native<br>  Object.assign({}, defaultOpts, opts);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- trim</span><br><span class="line"></span><br><span class="line">移除字符串头尾空白。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.trim(string);</p>
<p>  // Native<br>  string.trim();</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- map</span><br><span class="line"></span><br><span class="line">将数组或对象转化为包含新内容的数组。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.map(array, (value, index) =&gt; {<br>  });</p>
<p>  // Native<br>  array.map((value, index) =&gt; {<br>  });</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- each</span><br><span class="line"></span><br><span class="line">轮询函数，可用于平滑的轮询对象和数组。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.each(array, (index, value) =&gt; {<br>  });</p>
<p>  // Native<br>  array.forEach((value, index) =&gt; {<br>  });</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- grep</span><br><span class="line"></span><br><span class="line">找到数组中符合过滤函数的元素。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.grep(array, (value, index) =&gt; {<br>  });</p>
<p>  // Native<br>  array.filter((value, index) =&gt; {<br>  });</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- type</span><br><span class="line"></span><br><span class="line">检测对象的 JavaScript [Class] 内部类型。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.type(obj);</p>
<p>  // Native<br>  function type(item) {<br>    const reTypeOf = /(?:^[object\s(.*?)]$)/;<br>    return Object.prototype.toString.call(item)<br>      .replace(reTypeOf, ‘$1’)<br>      .toLowerCase();<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- merge</span><br><span class="line"></span><br><span class="line">合并第二个数组内容到第一个数组。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.merge(array1, array2);</p>
<p>  // Native<br>  // 使用 concat，不能去除重复值<br>  function merge(…args) {<br>    return [].concat(…args)<br>  }</p>
<p>  // ES6，同样不能去除重复值<br>  array1 = […array1, …array2]</p>
<p>  // 使用 Set，可以去除重复值<br>  function merge(…args) {<br>    return Array.from(new Set([].concat(…args)))<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- now</span><br><span class="line"></span><br><span class="line">返回当前时间的数字呈现。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.now();</p>
<p>  // Native<br>  Date.now();</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- proxy</span><br><span class="line"></span><br><span class="line">传入函数并返回一个新函数，该函数绑定指定上下文。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.proxy(fn, context);</p>
<p>  // Native<br>  fn.bind(context);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- makeArray</span><br><span class="line"></span><br><span class="line">类数组对象转化为真正的 JavaScript 数组。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.makeArray(arrayLike);</p>
<p>  // Native<br>  Array.prototype.slice.call(arrayLike);</p>
<p>  // ES6-way<br>  Array.from(arrayLike);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [6.2](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#6.2) 包含</span><br><span class="line"></span><br><span class="line">  检测 DOM 元素是不是其他 DOM 元素的后代.</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.contains(el, child);</p>
<p>  // Native<br>  el !== child &amp;&amp; el.contains(child);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [6.3](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#6.3) Globaleval</span><br><span class="line"></span><br><span class="line">  全局执行 JavaScript 代码。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.globaleval(code);</p>
<p>  // Native<br>  function Globaleval(code) {<br>    const script = document.createElement(‘script’);<br>    script.text = code;</p>
<pre><code>document.head.appendChild(script).parentNode.removeChild(script);
</code></pre><p>  }</p>
<p>  // Use eval, but context of eval is current, context of $.Globaleval is global.<br>  eval(code);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [6.4](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#6.4) 解析</span><br><span class="line"></span><br><span class="line">  - parseHTML</span><br><span class="line"></span><br><span class="line">  解析字符串为 DOM 节点数组.</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.parseHTML(htmlString);</p>
<p>  // Native<br>  function parseHTML(string) {<br>    const context = document.implementation.createHTMLDocument();</p>
<pre><code>// Set the base href for the created document so any parsed elements with URLs
// are based on the document&apos;s URL
const base = context.createElement(&apos;base&apos;);
base.href = document.location.href;
context.head.appendChild(base);

context.body.innerHTML = string;
return context.body.children;
</code></pre><p>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- parseJSON</span><br><span class="line"></span><br><span class="line">传入格式正确的 JSON 字符串并返回 JavaScript 值.</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.parseJSON(str);</p>
<p>  // Native<br>  JSON.parse(str);</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**⬆ 回到顶部**</span><br><span class="line"></span><br><span class="line">## Promises</span><br><span class="line"></span><br><span class="line">Promise 代表异步操作的最终结果。jQuery 用它自己的方式处理 promises，原生 JavaScript 遵循 [Promises/A+](http://promises-aplus.github.io/promises-spec/) 标准实现了最小 API 来处理 promises。</span><br><span class="line"></span><br><span class="line">- [7.1](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#7.1) done, fail, always</span><br><span class="line"></span><br><span class="line">  `done` 会在 promise 解决时调用，`fail` 会在 promise 拒绝时调用，`always` 总会调用。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $promise.done(doneCallback).fail(failCallback).always(alwaysCallback)</p>
<p>  // Native<br>  promise.then(doneCallback, failCallback).then(alwaysCallback, alwaysCallback)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [7.2](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#7.2) when</span><br><span class="line"></span><br><span class="line">  `when` 用于处理多个 promises。当全部 promises 被解决时返回，当任一 promise 被拒绝时拒绝。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $.when($promise1, $promise2).done((promise1Result, promise2Result) =&gt; {<br>  });</p>
<p>  // Native<br>  Promise.all([$promise1, $promise2]).then([promise1Result, promise2Result] =&gt; {});</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [7.3](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#7.3) Deferred</span><br><span class="line"></span><br><span class="line">  Deferred 是创建 promises 的一种方式。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  function asyncFunc() {<br>    const defer = new $.Deferred();<br>    setTimeout(() =&gt; {<br>      if(true) {<br>        defer.resolve(‘some_value_computed_asynchronously’);<br>      } else {<br>        defer.reject(‘failed’);<br>      }<br>    }, 1000);</p>
<pre><code>return defer.promise();
</code></pre><p>  }</p>
<p>  // Native<br>  function asyncFunc() {<br>    return new Promise((resolve, reject) =&gt; {<br>      setTimeout(() =&gt; {<br>        if (true) {<br>          resolve(‘some_value_computed_asynchronously’);<br>        } else {<br>          reject(‘failed’);<br>        }<br>      }, 1000);<br>    });<br>  }</p>
<p>  // Deferred way<br>  function defer() {<br>    const deferred = {};<br>    const promise = new Promise((resolve, reject) =&gt; {<br>      deferred.resolve = resolve;<br>      deferred.reject = reject;<br>    });</p>
<pre><code>deferred.promise = () =&gt; {
  return promise;
};

return deferred;
</code></pre><p>  }</p>
<p>  function asyncFunc() {<br>    const defer = defer();<br>    setTimeout(() =&gt; {<br>      if(true) {<br>        defer.resolve(‘some_value_computed_asynchronously’);<br>      } else {<br>        defer.reject(‘failed’);<br>      }<br>    }, 1000);</p>
<pre><code>return defer.promise();
</code></pre><p>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**⬆ 回到顶部**</span><br><span class="line"></span><br><span class="line">## Animation</span><br><span class="line"></span><br><span class="line">- [8.1](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.1) Show &amp; Hide</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.show();<br>  $el.hide();</p>
<p>  // Native<br>  // 更多 show 方法的细节详见 <a href="https://github.com/oneuijs/oui-dom-utils/blob/master/src/index.js#L363" target="_blank" rel="noopener">https://github.com/oneuijs/oui-dom-utils/blob/master/src/index.js#L363</a><br>  el.style.display = ‘’|’inline’|’inline-block’|’inline-table’|’block’;<br>  el.style.display = ‘none’;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.2](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.2) Toggle</span><br><span class="line"></span><br><span class="line">  显示或隐藏元素。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.toggle();</p>
<p>  // Native<br>  if (el.ownerDocument.defaultView.getComputedStyle(el, null).display === ‘none’) {<br>    el.style.display = ‘’|’inline’|’inline-block’|’inline-table’|’block’;<br>  } else {<br>    el.style.display = ‘none’;<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.3](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.3) FadeIn &amp; FadeOut</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.fadeIn(3000);<br>  $el.fadeOut(3000);</p>
<p>  // Native<br>  el.style.transition = ‘opacity 3s’;<br>  // fadeIn<br>  el.style.opacity = ‘1’;<br>  // fadeOut<br>  el.style.opacity = ‘0’;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.4](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.4) FadeTo</span><br><span class="line"></span><br><span class="line">  调整元素透明度。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.fadeTo(‘slow’,0.15);<br>  // Native<br>  el.style.transition = ‘opacity 3s’; // 假设 ‘slow’ 等于 3 秒<br>  el.style.opacity = ‘0.15’;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.5](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.5) FadeToggle</span><br><span class="line"></span><br><span class="line">  动画调整透明度用来显示或隐藏。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.fadeToggle();</p>
<p>  // Native<br>  el.style.transition = ‘opacity 3s’;<br>  const { opacity } = el.ownerDocument.defaultView.getComputedStyle(el, null);<br>  if (opacity === ‘1’) {<br>    el.style.opacity = ‘0’;<br>  } else {<br>    el.style.opacity = ‘1’;<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.6](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.6) SlideUp &amp; SlideDown</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.slideUp();<br>  $el.slideDown();</p>
<p>  // Native<br>  const originHeight = ‘100px’;<br>  el.style.transition = ‘height 3s’;<br>  // slideUp<br>  el.style.height = ‘0px’;<br>  // slideDown<br>  el.style.height = originHeight;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.7](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.7) SlideToggle</span><br><span class="line"></span><br><span class="line">  滑动切换显示或隐藏。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.slideToggle();</p>
<p>  // Native<br>  const originHeight = ‘100px’;<br>  el.style.transition = ‘height 3s’;<br>  const { height } = el.ownerDocument.defaultView.getComputedStyle(el, null);<br>  if (parseInt(height, 10) === 0) {<br>    el.style.height = originHeight;<br>  }<br>  else {<br>   el.style.height = ‘0px’;<br>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- [8.8](https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#8.8) Animate</span><br><span class="line"></span><br><span class="line">  执行一系列 CSS 属性动画。</span><br></pre></td></tr></table></figure>
<p>  // jQuery<br>  $el.animate({ params }, speed);</p>
<p>  // Native<br>  el.style.transition = ‘all ‘ + speed;<br>  Object.keys(params).forEach((key) =&gt;<br>    el.style[key] = params[key];<br>  )</p>
<p>  <code>`</code></p>
<p><strong>⬆ 回到顶部</strong></p>
<h2 id="Alternatives"><a href="#Alternatives" class="headerlink" title="Alternatives"></a>Alternatives</h2><ul>
<li><a href="http://youmightnotneedjquery.com/" target="_blank" rel="noopener">你可能不需要 jQuery (You Might Not Need jQuery)</a> - 如何使用原生 JavaScript 实现通用事件，元素，ajax 等用法。</li>
<li><a href="http://github.com/npm-dom" target="_blank" rel="noopener">npm-dom</a> 以及 <a href="http://github.com/webmodules" target="_blank" rel="noopener">webmodules</a> - 在 NPM 上提供独立 DOM 模块的组织</li>
</ul>
<p><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md" target="_blank" rel="noopener">原文地址</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/09/前端安全/" rel="next" title="前端安全">
                <i class="fa fa-chevron-left"></i> 前端安全
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/16/关于node-js的路径拼接/" rel="prev" title="关于node.js的路径拼接">
                关于node.js的路径拼接 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/assets/img/pic.jpg"
                alt="Gaomy" />
            
              <p class="site-author-name" itemprop="name">Gaomy</p>
              <p class="site-description motion-element" itemprop="description">gao's blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#You-Don’t-Need-jQuery"><span class="nav-number">1.</span> <span class="nav-text">You Don’t Need jQuery</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Query-Selector"><span class="nav-number">2.</span> <span class="nav-text">Query Selector</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSS-amp-Style"><span class="nav-number">3.</span> <span class="nav-text">CSS &amp; Style</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-Manipulation"><span class="nav-number">4.</span> <span class="nav-text">DOM Manipulation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Alternatives"><span class="nav-number">5.</span> <span class="nav-text">Alternatives</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gaomy</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
